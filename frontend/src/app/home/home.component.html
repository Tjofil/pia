<div fxLayout='column' fxLayoutAlign='space-between center'>
    <div class='float-container' style='width: 100%;'>
        <app-register fxLayout='column' fxLayoutAlign='space-between center' class='float-child' [isCustomer]="false"
            [isAdmin]="false" (messageEvent)="changeMessage($event)" [class.bleak]='registerMode == true'>
        </app-register>

        <div fxLayout='column' fxLayoutAlign='space-between center' [class.bleak]='registerMode == false'
            class='float-child'>
            <br />
            <div>
                <mat-form-field appearance='fill' class='reg-form-field'>
                    <mat-label>Корисничко име</mat-label>
                    <input matInput [(ngModel)]='loginUsername'>
                </mat-form-field>

                <mat-form-field appearance='fill'>
                    <mat-label>Лозинка</mat-label>
                    <input type='password' matInput [(ngModel)]='loginPassword'>
                </mat-form-field>
            </div>

            <button mat-raised-button (click)='login()' color='primary'>Пријави се</button>

        </div>
        <br />
        <hr style='border-top: 2px solid #574AE2; padding-left: 10px;'> <br />
        <div class='center'>
            <div>
                <label id='mode-radio-group' class='padded-radio'>Одаберите услугу:</label>
                <br />
                <mat-radio-group color='primary' [(ngModel)]='registerMode' aria-labelledby='mode-radio-group'>
                    <mat-radio-button [value]='false' class='padded-radio'>Регистрација</mat-radio-button>
                    <mat-radio-button [value]='true' class='padded-radio'>Пријава</mat-radio-button>
                </mat-radio-group>
            </div>
            <div [ngClass]='{"bleak" : !registerMode }'> <label id='mode-radio-group' class='padded-radio'>Тип
                    корисника:</label>
                <br />
                <mat-radio-group color='primary' [(ngModel)]='companyMode' aria-labelledby='mode-radio-group'>
                    <mat-radio-button [value]='true' class='padded-radio'>Предузеће</mat-radio-button>
                    <mat-radio-button [value]='false' class='padded-radio'>Физичко лице</mat-radio-button>
                </mat-radio-group>
            </div>


        </div>

        <div class='center'>
            <p [ngClass]="{ 'error-msg' : message != successReg , 'success-msg' : message == successReg }">{{message}}
            </p>
        </div>

    </div>
    <div style='width: 100%;'>
        <div>
            <h3 style='text-align: center; margin-top: 1%;'>Најскорије издати рачуни.<br />
            </h3>
        </div>
        <mat-nav-list>
            <mat-divider></mat-divider>
            <ng-container *ngFor='let receipt of lastReceipts'>
                <mat-list-item (click)=onSelect(receipt)>

                    <div style='margin-right: 3%;'>
                        <mat-icon *ngIf='!expandingReceipts.includes(receipt)'>keyboard_arrow_right</mat-icon>
                        <mat-icon *ngIf='expandingReceipts.includes(receipt)'>keyboard_arrow_down</mat-icon>
                    </div>

                    [ {{getCompany(receipt)}} | {{receipt.location}} | {{receipt.department}} | {{receipt.tableId}}
                    ]
                    Укупна
                    вредност (са
                    порезом):
                    {{receipt.value}} ДИН

                </mat-list-item>

                <mat-list-item *ngIf='expandingReceipts.includes(receipt)' style='margin-left: 8%;'>
                    Датум: {{getDate(receipt)}} &nbsp; Начин плаћања:
                    {{getMethod(receipt)}}</mat-list-item>
                <mat-list *ngIf='expandingReceipts.includes(receipt)' style='margin-left: 8%;'>
                    <ng-container *ngFor='let item of receipt.items'>
                        <mat-list-item [disableRipple]="true">
                            <mat-icon>arrow_right</mat-icon>
                            {{item.name}} - {{item.amount}} ({{getUnit(item.name)}})
                            <div style="position:absolute; right: 2%">
                                Цена (порез) : {{valueOf(receipt, item).toFixed(2)}} ({{taxAmount(receipt,
                                item).toFixed(2)}}) ДИН
                            </div>
                        </mat-list-item>
                    </ng-container>
                </mat-list>
            </ng-container>
            <mat-divider></mat-divider>
        </mat-nav-list>
    </div>
</div>